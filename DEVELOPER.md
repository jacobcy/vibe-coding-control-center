# Vibe Center 2.0 â€” å¼€å‘æŒ‡å—

> **æ–‡æ¡£å®šä½**ï¼šæœ¬æ–‡ä»¶æ˜¯å¼€å‘æµç¨‹å’Œå·¥å…·ä½¿ç”¨çš„æƒå¨æŒ‡å—ï¼ˆè¯¦è§ [SOUL.md](SOUL.md) Â§0 æ–‡æ¡£èŒè´£åˆ†å·¥ï¼‰
> **æ ¸å¿ƒåŸåˆ™**ï¼šè¯¦è§ [SOUL.md](SOUL.md)
> **é¡¹ç›®ç»“æ„**ï¼šè¯¦è§ [STRUCTURE.md](STRUCTURE.md)
> **AI è§„åˆ™**ï¼šè¯¦è§ [CLAUDE.md](CLAUDE.md)

## 1. é¡¹ç›®åŒé‡èº«ä»½

æœ¬é¡¹ç›®åŒ…å«ä¸¤ä¸ªç»´åº¦çš„å·¥ä½œï¼ˆè¯¦è§ [CLAUDE.md](CLAUDE.md)ï¼‰ï¼š

| ç»´åº¦ | å†…å®¹ | ä½ç½® | æ²»ç†æ ‡å‡† |
|------|------|------|----------|
| **Zsh CLI** | Shell è„šæœ¬ï¼Œç¯å¢ƒç¼–æ’ | `bin/`, `lib/` | LOC â‰¤ 1,200ï¼Œå•æ–‡ä»¶ â‰¤ 200 è¡Œ |
| **Vibe Coding Framework** | Agent è¡Œä¸ºæ§åˆ¶æŠ€èƒ½ | `skills/` | æ¸…æ™°åº¦ã€æ­£ç¡®æ€§ã€æœ‰æ•ˆæ€§ |

> Shell ä»£ç ä¸¥æ ¼æ§åˆ¶ä½“ç§¯ï¼›æŠ€èƒ½æ˜¯ Markdown æç¤ºè¯ï¼Œè¯„ä¼°æ ‡å‡†ä¸åŒã€‚

---

## 2. å¼€å‘ç¯å¢ƒæ­å»º

### 2.1 å‰ç½®è¦æ±‚
- macOS / Linux
- zsh (é»˜è®¤ Shell)
- git
- [bats-core](https://github.com/bats-core/bats-core)ï¼š`brew install bats-core`
- [shellcheck](https://www.shellcheck.net/)ï¼š`brew install shellcheck`

### 2.2 Setupï¼ˆè‡ªåŠ¨åŒ–ç¯å¢ƒå‡†å¤‡ï¼‰

```bash
./install.sh
```

å½“ä½ æ‰§è¡Œ `vibe flow start <feature>` åˆ›å»ºæ–°å·¥ä½œåŒºæ—¶ï¼Œ`install.sh` ä¼šè‡ªåŠ¨è¿è¡Œï¼Œå®Œæˆä»¥ä¸‹å·¥ä½œï¼š
1. å®‰è£…å¹¶é…ç½® `openSpec` å’Œ `Superpowers`
2. åœ¨ `.agent/skills/` å»ºç«‹é¡¹ç›®è‡ªæœ‰æŠ€èƒ½å’Œç¬¬ä¸‰æ–¹æŠ€èƒ½çš„ç¬¦å·é“¾æ¥
3. ä¸º Trae ç¼–è¾‘å™¨ç”¨æˆ·å‡†å¤‡ç›¸åŒçš„æŠ€èƒ½ç¯å¢ƒ

æ‰‹åŠ¨åˆ›å»º worktree æ—¶éœ€è¦æ‰‹åŠ¨è¿è¡Œä¸€æ¬¡ `./install.sh`ã€‚

### 2.3 éªŒè¯ç¯å¢ƒ
```bash
bin/vibe check       # ç¯å¢ƒè¯Šæ–­
bats tests/          # è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼ˆåº”çœ‹åˆ° 20 tests, 0 failuresï¼‰
bash scripts/lint.sh # åŒå±‚ lint æ£€æŸ¥ï¼ˆ0 errorsï¼‰
```

---

## 3. å¦‚ä½•é˜²æ­¢ AI ç”Ÿæˆåƒåœ¾ä»£ç 

è¿™æ˜¯æœ¬é¡¹ç›®æœ€é‡è¦çš„ä¸€ç« ã€‚**AI å¦‚æœä¸åŠ çº¦æŸï¼Œä¼šä¸æ–­è†¨èƒ€ä»£ç ã€å¼•å…¥æ­»ä»£ç ã€å¿½ç•¥è¾¹ç•Œæ¡ä»¶ã€‚** æˆ‘ä»¬é€šè¿‡ä¸‰å±‚æœºåˆ¶é˜²æ­¢è¿™ä»¶äº‹å‘ç”Ÿã€‚

### 3.1 é—®é¢˜çš„æ ¹æœ¬

ä»¥ä¸‹æ˜¯ AI åœ¨ Vibe Center é¡¹ç›®ä¸­è¢«ç¦æ­¢åšçš„äº‹ï¼š

| AI çš„åä¹ æƒ¯ | æˆ‘ä»¬çš„åˆ¶çº¦ |
|---|---|
| æ— é™è†¨èƒ€ä»£ç é‡ | LOC ç¡¬ä¸Šé™ï¼šæ€»é‡ â‰¤ 1200 è¡Œï¼Œå•æ–‡ä»¶ â‰¤ 200 è¡Œ |
| æ·»åŠ "ä¸‡ä¸€ç”¨åˆ°"çš„å‡½æ•° | é›¶æ­»ä»£ç ï¼šæ¯ä¸ªå‡½æ•°å¿…é¡»æœ‰è°ƒç”¨è€… |
| ä¸æµ‹è¯•ç›´æ¥æäº¤ | æ‰€æœ‰ä¿®æ”¹å¿…é¡»é€šè¿‡ `bats tests/` |
| è‡ªå·±çœ‹ä¸è§è¯­æ³•é”™è¯¯ | ä¿®æ”¹åå¿…é¡»è¿è¡Œ `zsh -n` + `shellcheck` |
| ä¸çŸ¥é“æ”¹äº†å“ªäº›åœ°æ–¹ | ä¿®æ”¹å‰å¿…é¡»æŸ¥å¼•ç”¨å…³ç³»ï¼ˆSerena ASTï¼‰ |
| ä¸ç»å®¡æ‰¹åŠ åŠŸèƒ½ | SOUL.md + CLAUDE.md é”æ­»è¾¹ç•Œ |

### 3.2 ä¸‰å±‚é˜²æŠ¤æœºåˆ¶

#### ğŸ”´ Layer 0ï¼šç¡¬è§„åˆ™ï¼ˆHARD RULESï¼‰

å†™åœ¨ `CLAUDE.md` å’Œ `SOUL.md` ä¸­çš„ä¸å¯è¿åè§„åˆ™ï¼š

```
- lib/ + bin/ æ€» LOC â‰¤ 1200
- ä»»ä½•å•ä¸ª .sh æ–‡ä»¶ â‰¤ 200 è¡Œ
- é›¶æ­»ä»£ç ï¼šæ¯ä¸ªå‡½æ•°å¿…é¡»æœ‰ â‰¥1 ä¸ªè°ƒç”¨è€…
- ä¸å¾—åœ¨ SOUL.md ä¹‹å¤–æ–°å¢ CLI åŠŸèƒ½
```

**è¿åå³æ‹’ç»ã€‚** CI Pipeline ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶é˜»æ­¢åˆå¹¶ã€‚

#### ğŸŸ¡ Layer 1ï¼šSerena AST æ£€ç´¢ï¼ˆä¿®æ”¹å‰çš„å½±å“åˆ†æï¼‰

Serena æ˜¯ä¸€ä¸ª MCP å·¥å…·ï¼Œæä¾›ä»£ç ç»“æ„çš„ AST çº§æŸ¥è¯¢èƒ½åŠ›ã€‚

**å¼ºåˆ¶åœºæ™¯ï¼š**

| æ“ä½œ | å¿…é¡»è°ƒç”¨çš„å·¥å…· |
|---|---|
| ä¿®æ”¹ä»»ä½•å‡½æ•°å‰ | `find_referencing_symbols("<å‡½æ•°å>")` â† æŸ¥è°ƒç”¨è€… |
| åˆ é™¤ä»»ä½•å‡½æ•°å‰ | `find_referencing_symbols("<å‡½æ•°å>")` â† ç¡®è®¤æ— äººè°ƒç”¨ |
| æ–°å¢å‡½æ•°å | `get_symbols_overview("lib/<æ–‡ä»¶>.sh")` â† æ£€æŸ¥æ€»å‡½æ•°æ•° |

**ç¦æ­¢ï¼š**
- âŒ ä¸æŸ¥å¼•ç”¨ç›´æ¥ä¿®æ”¹å‡½æ•°ç­¾å
- âŒ ä¸æŸ¥å¼•ç”¨ç›´æ¥åˆ é™¤å‡½æ•°
- âŒ ç”¨ `cat` è¯»æ•´ä¸ªæ–‡ä»¶æ¥"ç†è§£ä¸Šä¸‹æ–‡"

è¯¦è§ [docs/standards/serena-usage.md](standards/serena-usage.md)ã€‚

#### ğŸŸ¢ Layer 2ï¼šåŒå±‚ Lintï¼ˆä¿®æ”¹åéªŒè¯è¯­æ³•å’Œè´¨é‡ï¼‰

æ¯æ¬¡ä¿®æ”¹ Shell ä»£ç åï¼Œ**å¿…é¡»è¿è¡Œ**ï¼š

```bash
bash scripts/lint.sh
```

è¿™ä¸ªè„šæœ¬åšä¸¤ä»¶äº‹ï¼š

**Step 1ï¼š`zsh -n`ï¼ˆè¯­æ³•æ£€æŸ¥ï¼Œ0 å®¹å¿ï¼‰**
```bash
zsh -n lib/flow.sh   # æ£€æŸ¥æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯
```

**Step 2ï¼š`shellcheck -s bash`ï¼ˆä»£ç è´¨é‡ï¼Œerror çº§ 0 å®¹å¿ï¼‰**
```bash
shellcheck -s bash -S error lib/*.sh bin/vibe
```

Zsh ç‰¹æœ‰è¯­æ³•ï¼ˆå¦‚ `${(%):-%x}`ï¼‰å·²åœ¨ `.shellcheckrc` ä¸­è±å…ã€‚

#### ğŸŸ¢ Layer 3ï¼šbats æµ‹è¯•ï¼ˆåŠŸèƒ½éªŒè¯ï¼‰

æ¯æ¬¡ä¿®æ”¹åï¼Œ**å¿…é¡»è¿è¡Œ**ï¼š

```bash
bats tests/
```

é¢„æœŸè¾“å‡ºï¼š`20 tests, 0 failures`

å¦‚æœæµ‹è¯•å¤±è´¥ï¼Œ**ç¦æ­¢æäº¤**ã€‚æ‰¾åˆ°æ ¹å› ä¿®å¤åå†æäº¤ã€‚

### 3.3 è‡ªåŠ¨ä¿®å¤é—­ç¯ï¼ˆvibe-test-runner Skillï¼‰

`skills/vibe-test-runner/SKILL.md` å®šä¹‰äº† AI Agent çš„è‡ªåŠ¨ä¿®å¤æµç¨‹ï¼š

```
å‘ç°é—®é¢˜ â†’ è‡ªåŠ¨ä¿®å¤ â†’ é‡æ–°éªŒè¯ â†’ å¾ªç¯ï¼ˆæœ€å¤š 3 è½®ï¼‰
              â†“
         3 è½®ä¸è¿‡ â†’ æŒ‚èµ·ï¼Œé€šçŸ¥äººç±»ä»‹å…¥
```

**ä¸ºä»€ä¹ˆæ˜¯ 3 è½®ï¼Ÿ** 3 è½®ä¿®ä¸å¥½é€šå¸¸è¯´æ˜ Spec æœ‰é—®é¢˜ï¼Œè€Œéä»£ç é—®é¢˜ï¼Œæ­¤æ—¶éœ€è¦äººç±»åˆ¤æ–­ã€‚

### 3.4 CI/CD è‡ªåŠ¨æŠŠå…³

`.github/workflows/ci.yml` åœ¨æ¯æ¬¡ Push å’Œ PR æ—¶è‡ªåŠ¨è¿è¡Œï¼š

1. `bash scripts/lint.sh` â€” åŒå±‚ lint
2. `bats tests/` â€” æ‰€æœ‰æµ‹è¯•
3. LOC æ€»é‡æ£€æŸ¥ï¼ˆ`find lib/ bin/ | xargs wc -l` â‰¤ 1200ï¼‰
4. å•æ–‡ä»¶è¡Œæ•°æ£€æŸ¥ï¼ˆæ¯ä¸ªæ–‡ä»¶ â‰¤ 200 è¡Œï¼‰

**CI ä¸è¿‡ = PR ä¸èƒ½åˆå¹¶ã€‚**

### 3.5 å®æ—¶åº¦é‡ä»ªè¡¨ç›˜

éšæ—¶è¿è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹é¡¹ç›®å¥åº·çŠ¶æ€ï¼š

```bash
bash scripts/metrics.sh
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
## ğŸ“Š MSC å¥åº·åº¦ä»ªè¡¨ç›˜

| æŒ‡æ ‡       | ä¸Šé™  | å½“å‰å€¼ | çŠ¶æ€ |
|-----------|-------|--------|------|
| æ€» LOC    | 1200  | 689    | âœ…   |
| æœ€å¤§æ–‡ä»¶  | 200   | 191    | âœ…   |
| æµ‹è¯•ç”¨ä¾‹  | â‰¥20   | 20     | âœ…   |
| ShellCheck| 0é”™è¯¯ | 0      | âœ…   |
| æ­»ä»£ç å‡½æ•°| 0     | 0      | âœ…   |
```

---

## 4. æ ‡å‡†å¼€å‘æµç¨‹

> å°ç™½å…¥é—¨ï¼š**æ¯æ¬¡å¼€å‘åŠŸèƒ½ï¼Œä¸¥æ ¼æŒ‰è¿™ 5 æ­¥èµ°ã€‚**

### Step 1ï¼šåˆ›å»ºå·¥ä½œåŒº

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
bin/vibe flow start <feature-name>
# ä¾‹å¦‚ï¼šbin/vibe flow start add-vibe-doctor
```

è¿™ä¼šï¼š
- åˆ›å»º `wt-claude-<feature>` ç›®å½•ï¼ˆgit worktreeï¼‰
- åˆ‡æ¢åˆ°æ–°åˆ†æ”¯
- è‡ªåŠ¨è¿è¡Œ `install.sh` å‡†å¤‡ç¯å¢ƒ
- ç”Ÿæˆ `docs/prds/<feature>.md` çš„ PRD æ¨¡æ¿

### Step 2ï¼šå†™ PRDï¼ˆå…ˆå†™éœ€æ±‚ï¼Œå†å†™ä»£ç ï¼‰

æ‰“å¼€ `docs/prds/<feature>.md`ï¼Œå¡«å†™ï¼š
- èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªåŠŸèƒ½
- ç›®æ ‡ï¼šè¿™ä¸ªåŠŸèƒ½åšä»€ä¹ˆ
- éœ€æ±‚æ¸…å•ï¼šå…·ä½“çš„éªŒæ”¶æ¡ä»¶

**ä¸å†™ PRDï¼Œä¸å¼€å§‹å†™ä»£ç ã€‚**

### Step 3ï¼šå†™ä»£ç  + éªŒè¯ï¼ˆè¾¹å†™è¾¹æµ‹ï¼‰

æ¯æ”¹ä¸€æ¬¡ä»£ç ï¼Œè¿è¡Œä¸‰ä¸ªå‘½ä»¤ï¼š

```bash
# 1. è¯­æ³•å’Œè´¨é‡æ£€æŸ¥
bash scripts/lint.sh

# 2. è¿è¡Œæ‰€æœ‰æµ‹è¯•
bats tests/

# 3. æŸ¥çœ‹å¥åº·åº¦
bash scripts/metrics.sh
```

**å‡ºç° âŒ ç«‹åˆ»ä¿®å¤ï¼Œä¸è¦ç§¯ç´¯é—®é¢˜ã€‚**

### Step 4ï¼šReview + åˆ›å»º PR

```bash
bin/vibe flow review   # äº¤äº’å¼ review
bin/vibe flow pr       # ç”Ÿæˆ PR
```

### Step 5ï¼šæ¸…ç†å·¥ä½œåŒº

```bash
bin/vibe flow done     # åˆå¹¶åæ¸…ç† worktree
```

---

## 5. ç›®å½•ç»“æ„

```
bin/vibe               # CLI å…¥å£ï¼ˆ~60 è¡Œï¼‰
lib/                   # Shell æ ¸å¿ƒé€»è¾‘ï¼ˆå— LOC ä¸Šé™çº¦æŸï¼‰
config/                # åˆ«åã€å¯†é’¥æ¨¡æ¿
scripts/
  lint.sh              # åŒå±‚ lintï¼ˆzsh -n + shellcheckï¼‰
  metrics.sh           # MSC å¥åº·åº¦ä»ªè¡¨ç›˜
skills/                # ğŸŸ¢ Vibe è‡ªæœ‰æŠ€èƒ½ï¼ˆtrackedï¼Œè§„èŒƒæºï¼‰
  vibe-test-runner/    # ä¸‰å±‚éªŒè¯ Skillï¼ˆSerena + Lint + batsï¼‰
  vibe-commit/         # æ™ºèƒ½ commit æ¶ˆæ¯ç”Ÿæˆ
.agent/                # Agent å·¥ä½œåŒº
  governance.yaml      # æ²»ç†é…ç½®
  workflows/           # å·¥ä½œæµå®šä¹‰
  rules/               # æ¶æ„å’Œç¼–ç è§„åˆ™
.serena/
  project.yml          # Serena AST æ£€ç´¢é…ç½®ï¼ˆé¡¹ç›®çº§çº¦æŸï¼‰
.shellcheckrc          # ShellCheck è±å…è§„åˆ™ï¼ˆZsh ç‰¹æœ‰è¯­æ³•ï¼‰
.github/workflows/
  ci.yml               # CI Pipelineï¼ˆlint + test + LOC æ£€æŸ¥ï¼‰
openspec/specs/
  cli-commands.yaml    # CLI å‘½ä»¤ç»“æ„åŒ– Specï¼ˆæœºå™¨å¯è¯»ï¼‰
docs/
  plans/               # å®æ–½è®¡åˆ’ï¼ˆæ‰§è¡Œå‰å¿…å†™ï¼‰
  standards/           # å¼€å‘è§„èŒƒæ–‡æ¡£
  model-spec-context.md # MSC èŒƒå¼è¯´æ˜ä¸è‡ªæ£€
tests/                 # bats-core æµ‹è¯•ï¼ˆâ‰¥20 ä¸ªç”¨ä¾‹ï¼‰
```

---

## 6. å¤–éƒ¨ä¾èµ–

| ä¾èµ– | ç”¨é€” | å®‰è£…æ–¹å¼ |
|------|------|----------|
| [bats-core](https://github.com/bats-core/bats-core) | Shell å•å…ƒæµ‹è¯• | `brew install bats-core` |
| [shellcheck](https://www.shellcheck.net/) | Shell ä»£ç  lint | `brew install shellcheck` |
| [Superpowers](https://github.com/jomifred/superpowers) | é€šç”¨ agent æŠ€èƒ½ | æŒ‰æ–‡æ¡£å®‰è£…åˆ° `~/.agents/skills/` |
| [OpenSpec](https://github.com/OpenSpec) | ç»“æ„åŒ–å˜æ›´ç®¡ç† | æŒ‰æ–‡æ¡£å®‰è£… |
| Serena MCP | AST æ£€ç´¢ï¼ˆIDE/Agent å·²å†…ç½®ï¼‰ | é€šå¸¸å·²å†…ç½®äº IDE |

---

## 7. å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

```bash
# å¼€å‘å·¥ä½œæµ
bin/vibe flow start <feature>  # åˆ›å»º worktree + åˆ†æ”¯
bin/vibe flow review           # Pre-PR æ£€æŸ¥
bin/vibe flow pr               # åˆ›å»º PR
bin/vibe flow done             # æ¸…ç† worktree

# è´¨é‡éªŒè¯ï¼ˆæ¯æ¬¡æ”¹ä»£ç åå¿…è·‘ï¼‰
bash scripts/lint.sh           # åŒå±‚ lint
bats tests/                    # æ‰€æœ‰æµ‹è¯•
bash scripts/metrics.sh        # å¥åº·åº¦ä»ªè¡¨ç›˜

# ç¯å¢ƒå’Œå·¥å…·
bin/vibe check                 # ç¯å¢ƒè¯Šæ–­
bin/vibe keys list             # åˆ—å‡º API å¯†é’¥
bin/vibe tool                  # å®‰è£… AI å·¥å…·
bin/vibe clean                 # æ¸…ç†ä¸´æ—¶æ–‡ä»¶
```

---

## 8. V2 çš„æ ¸å¿ƒå“²å­¦

**"ç”¨çº¦æŸé©¯æœ AI"**

AI ä¸æ˜¯é€šæ‰ï¼Œæ˜¯ä¸“æ‰ã€‚ç»™å®ƒè¶Šå¤§çš„è‡ªç”±åº¦ï¼Œè¶Šå®¹æ˜“å‡ºè½¨ã€‚Vibe Center 2.0 çš„æ ¸å¿ƒä¸æ˜¯"è®© AI å†™æ›´å¤šä»£ç "ï¼Œè€Œæ˜¯"è®© AI åœ¨æçª„çš„é€šé“é‡Œåšæ­£ç¡®çš„äº‹"ï¼š

1. **Spec å…ˆè¡Œ**ï¼šCLI å‘½ä»¤æœ‰æœºå™¨å¯è¯»çš„ YAML Specï¼ŒPRD å…ˆäºä»£ç å­˜åœ¨
2. **å·¥å…·çº¦æŸ**ï¼šä¸é æç¤ºè¯è¯´"è¯·åˆ«å†™å¤ªå¤š"ï¼Œé  CI ç¡¬æ‹¦æˆª
3. **å¯åº¦é‡**ï¼šæ‰€æœ‰è§„åˆ™éƒ½å¯¹åº”å¯è¿è¡Œçš„æ£€æŸ¥è„šæœ¬ï¼Œé€šè¿‡/å¤±è´¥ä¸€ç›®äº†ç„¶

è¿™å¥—æœºåˆ¶çš„è¯¦ç»†åŸç†è§ [docs/model-spec-context.md](model-spec-context.md)ã€‚
